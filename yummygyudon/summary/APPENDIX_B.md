# Appendix B. νƒ€μ… κ³„μΈµ κµ¬ν„
#### β… κΈ°λ³Έ μ „μ 
- λ¦¬μ¤μ½”ν”„ μΉν™ μ›μΉ™μ€ <u>κµ¬ν„ λ°©λ²•μ— μν•΄μ„ λ³΄μ¥λλ” κ²ƒμ΄ μ•„λ‹κΈ°</u> λ•λ¬Έμ— <br/> " ν΄λΌμ΄μ–ΈνΈ κ΄€μ μ—μ„ νƒ€μ… κ³„μΈµμ—μ„μ **ν–‰λ™ νΈν™μ„± λ³΄μ¥** "μ€ κ°λ°μμ λ«μ΄λ‹¤.
  - _μ¬λ°”λ¥Έ νƒ€μ… κ³„μΈµ : <u>μ„λΈ νƒ€μ…μ΄ **μνΌνƒ€μ…μ„ λ€μ²΄**</u>ν•  μ μλ„λ΅ **λ¦¬μ¤μ½”ν”„ μΉν™ μ›μΉ™ μ¤€μ** ν•„μ”_


- **"λ™μΌ λ©”μ‹μ§€μ— λ€ν• ν–‰λ™ νΈν™μ„±"** ν•μ„± λ©μ 
  - `νƒ€μ… κ³„μΈµ` κµ¬ν„ λ°©μ‹  & `λ‹¤ν•μ„±`μ„ κµ¬ν„ν•λ” λ°©λ²•
  - " _μνΌνƒ€μ…μ— λ€ν•΄ μ „μ†΅ν• λ©”μ‹μ§€λ¥Ό <u>μ„λΈ νƒ€μ…λ³„λ΅ λ‹¤λ¥΄κ² μ²λ¦¬</u>ν•  μ μλ” λ°©λ²•_ " μ κ³µ


<br/>

---
## κµ¬ν„ λ°©λ²•
### ν΄λμ¤
> `νƒ€μ…` β†’ κ°μ²΄μ "**νΌλΈ”λ¦­ μΈν„°νμ΄μ¤**"<br/>
> `ν΄λμ¤` β†’ κ°μ²΄μ "<u>νƒ€μ…</u>(**νΌλΈ”λ¦­ μΈν„°νμ΄μ¤**)" λ° "<u>**κµ¬ν„**</u>" μ •μ λ§¤κ°μ²΄ β†’ "**μ‚¬μ©μ μ •μ νƒ€μ…** `User-Defined Data Type`"

ν΄λμ¤ λ‚΄μ—μ„  <u>"**νΌλΈ”λ¦­ λ©”μ„λ“**"λ¥Ό κµ¬ν„ν•¨μΌλ΅μ„ νΌλΈ”λ¦­ μΈν„°νμ΄μ¤λ¥Ό κµ¬μ„±</u>ν•΄ λ‚κ°€λ”λ°<br/>
**νƒ€μ…**μ€ μ¦‰ " νΌλΈ”λ¦­ μΈν„°νμ΄μ¤ "λ¥Ό μλ―Έν•κΈ° λ•λ¬Έμ—<br/>
μ •λ¦¬ν•μλ©΄<br/>
**νΌλΈ”λ¦­ λ©”μ„λ“**λ΅ "<u>λ©”μ‹μ§€μ— μ‘λ‹µν•  μ μλ” `νƒ€μ…`μ„ μ„ μ–Έ</u>"ν•λ” λ™μ‹μ— "<u>κ°μ²΄ `κµ¬ν„`</u>"μ„ ν•λ” κ²ƒκ³Ό λ™μΌν•λ‹¤.

λ‹¨, " _νΉμ • κ°λ…μ νƒ€μ…μ΄ μ λ€μ μΌλ΅ ν•λ‚λ§ μ΅΄μ¬_ "ν•λ‹¤λ©΄ `νƒ€μ… == ν΄λμ¤`μ— κ·Έμ³λ„ λ¬΄λ°©ν•μ§€λ§<br/>
λ§μ•½ λ™μΌ νΌλΈ”λ¦­ μΈν„°νμ΄μ¤λ¥Ό κΈ°λ°μΌλ΅ <u>μ„λ΅ λ‹¤λ¥Έ λ‚΄μ© λ° λ°©μ‹μ κµ¬ν„</u>μ΄ ν•„μ”ν•  κ²½μ°, <br/>
ν•΄λ‹Ή κ°λ…μ΄ νκ΄΄λλ‹¤.

<u>`νΌλΈ”λ¦­ μΈν„°νμ΄μ¤`λ¥Ό "**μ μ§€**" ν•λ©΄μ„ μ„λ΅ λ‹¤λ¥Έ `κµ¬ν„`μ„ "**μ¶”κ°€**"</u>ν•΄μ•Ό ν•  λ•,<br/>
" `μ¶”μƒ ν΄λμ¤` **μƒμ†** " & " `μΈν„°νμ΄μ¤` **κµ¬ν„** "λ¥Ό μ‚¬μ©ν•λ” λ°©μ‹μ΄ μλ‹¤.

( _λ‹¨μ **"κµ¬μ²΄ ν΄λμ¤ μƒμ†"** μ€ κ°•ν• κ²°ν•©μ„ λ°μƒμ‹ν‚¤κΈ° λ•λ¬Έμ— λΉ„κ¶μ¥ν•λ‹¤._ )

<br/>

### μΈν„°νμ΄μ¤
μ„Έμƒ λ¨λ“  κµ¬ν„μ²΄λ“¤ μ¤‘ μ–΄λ ν• κ°€μ§€μ νΉμ„±λ§ κ°€μ§„ κ²½μ°λ” μ°ΎκΈ° νλ“¤ κ²ƒμ΄λ‹¤.<br/>
λ‹¤μ–‘ν• κ°λ… λ° λ²”μ£Όλ“¤μ κµμ§‘ν•©μΌλ΅μ„ νΉμ • κµ¬ν„μ²΄κ°€ μƒκ²¨λ‚λ” κ²ƒμ΄ λ€λ¶€λ¶„μΈλ°

λ§μ•½ μ΄λ¥Ό "ν΄λμ¤"μ™€ "μƒμ†"μ„ ν†µν•΄μ„ κ°μ²΄λ¥Ό κµ¬ν„ν•κ³ μ ν•λ‹¤λ©΄<br/>
"**λ‹¨μΌ μƒμ†**" μ •μ±…μ— μν•΄ <u>κµμ§‘ν•©μ μΈ κ°λ…λ“¤μ„ λ™μ‹ κµ¬ν„</u>ν•κΈ° **μ–΄λ ¤μΈ κ²ƒ**μ΄λ‹¤.

μ΄λ΄ κ²½μ°μ ν•΄κ²° λ°©λ²•μ΄ λ°”λ΅ "**λ‹¤μ¤‘ κµ¬ν„**"μ΄ κ°€λ¥ν• "`μΈν„°νμ΄μ¤`"λ¥Ό ν™μ©ν•λ” κ²ƒμ΄λ‹¤.

- μƒμ†μΌλ΅ μΈν• **κ°•ν• κ²°ν•©λ„** λ¬Έμ  νν”Ό
- **λ‹¨μΌ μƒμ†** μ μ•½ νν”Ό

λ” λ‚μ•„κ°€ "<u>μΈν„°νμ΄μ¤ κ°„ μƒμ†</u>" μ„ ν†µν• <br/>
λ” λ§μ€ ν–‰λ™μ„ κ°€μ§„ λ‹¤λ¥Έ νƒ€μ…μ— μν•΄ "**ν™•μ¥**"κΉμ§€ κ°€λ¥ν•λ‹¤.<br/>
( _ex. `(interface) extends (interface)`_ )

μ΄μ²λΌ " _μΈν„°νμ΄μ¤κ°€ λ‹¤λ¥Έ μΈν„°νμ΄μ¤λ¥Ό ν™•μ¥ν•λ„λ΅ μ„¤κ³„_ "ν•λ©΄<br/>
<u>μνΌ νƒ€μ…κ³Ό μ„λΈ νƒ€μ… κ°„μ **νƒ€μ… κ³„μΈµ**</u>μ„ κµ¬μ„±ν•  μ μλ‹¤.

<br/>

μ„ λ°©λ²•μ— λ”°λΌ νƒ€μ… κ³„μΈµμ„ μ„¤κ³„ν• ν›„,<br/>
λ‹¤μ–‘ν• νƒ€μ…λ“¤μ— λ€ν•΄ "`ν΄λμ¤`"λΌλ” μλ‹¨μ„ ν†µν•΄<br/>
λ‹¤μ–‘ν• **νƒ€μ…(μΈν„°νμ΄μ¤)λ“¤μ„ κµ¬ν„**ν•λ©΄ λλ‹¤.

> - **μ—¬λ¬** ν΄λμ¤ β†’ <u>λ™μΌ</u>ν• νƒ€μ… κµ¬ν„ : μ—¬λ¬ `μ„λΈ νƒ€μ…`
>   - **λ™μΌν• λ©”μ‹μ§€μ— μ‘λ‹µ**ν•  μ μλ” <u>νƒ€μ…μ€ λ™μΌν•μ§€λ§ μ„λ΅ λ‹¤λ¥Έ ν΄λμ¤</u>λ“¤
> 
> 
> - **λ‹¨μΌ** ν΄λμ¤ β†’ <u>μ—¬λ¬</u> νƒ€μ… κµ¬ν„ : `λ‹¤μ¤‘ κµ¬ν„`

β `μΈν„°νμ΄μ¤`λ¥Ό μ΄μ©ν•΄ "**νƒ€μ…**"μ„ μ •μν•κ³ , `ν΄λμ¤`λ¥Ό μ΄μ©ν•΄ κ°μ²΄λ¥Ό "**κµ¬ν„**"ν•λ©΄ <br/>
<u>**μƒμ†μ„ μ‚¬μ©ν•μ§€ μ•κ³ λ„** νƒ€μ… κ³„μΈµ κµ¬ν„</u>μ΄ κ°€λ¥ν•λ‹¤.

- `ν΄λμ¤(Class)` : κ°μ²΄μ "**κµ¬ν„**" μ •μ β†’ λ‚΄λ¶€ μƒνƒ & μ¤νΌλ μ΄μ… <br/>
  == " _νƒ€μ… μ†μ† κ°μ²΄ κµ¬ν„ λ§¤μ»¤λ‹μ¦_ "


- `νƒ€μ…(Type)` : **Only** "**μΈν„°νμ΄μ¤**" μ •μ β†’ λ°μ‘ν•  μ μλ” **μ¤νΌλ μ΄μ… μ§‘ν•©**<br/>
  == " _λ™μΌν• νΌλΈ”λ¦­ μΈν„°νμ΄μ¤λ¥Ό κ°€μ§„ κ°μ²΄λ“¤μ λ²”μ£Ό_ "


- _κ°μ²΄ μ§€ν–¥μ—μ„ κ°€μ¥ μ¤‘μ”ν• κ²ƒμ΄ "ν‘λ ¥ μ•μ—μ„ κ°μ²΄κ°€ μ κ³µν•λ” **ν–‰λ™**"μΈλ§νΌ <br/>
  ν΄λμ¤ μμ²΄λ³΄λ‹¨ <u>νƒ€μ…μ΄ λ” μ¤‘μ”</u>ν•λ‹¤._

<br/>

### μ¶”μƒν΄λμ¤
> "<u>**μ¶”μƒ ν΄λμ¤**λ¥Ό μƒμ†</u>λ°›λ” **κµ¬μ²΄ ν΄λμ¤**" μ¶”κ°€ β†’ νƒ€μ… κ³„μΈµ κµ¬ν„

#### π’΅κµ¬μ²΄ ν΄λμ¤ μƒμ† vs μ¶”μƒ ν΄λμ¤ μƒμ†
1. μμ΅΄ν•λ” λ€μƒμ **"μ¶”μƒν™” μ •λ„"**
   - **κµ¬μ²΄ ν΄λμ¤ μƒμ†** β†’ λ‚΄λ¶€ κµ¬ν„μ— κ°•ν• κ²°μ†
   - **μ¶”μƒ ν΄λμ¤ μƒμ†** β†’ μ¶”μƒ λ©”μ„λ“μ— μ‹κ·Έλ‹μ²μ—λ§ μμ΅΄ (λ‚΄λ¶€ κµ¬ν„ μμ΅΄ β)
     - μ¤μ§ μ¶”μƒ λ©”μ„λ“ `μ¤λ²„λΌμ΄λ”©`μ— μμ΅΄ :: " `μμ΅΄μ„± μ—­μ „μ μ›μΉ™` "<br/><br/>
   - λ¨λ“  μμ‹ ν΄λμ¤λ“¤μ€ ν•­μƒ μ¶”μƒ λ©”μ„λ“μ μ‹κ·Έλ‹μ² μ¤€μ 
     - μ μ—° & λ³€ν™”μ— μ•μ •μ μΈ μ„¤κ³„
   - μ¶”μƒν™” β¬† == κ²°ν•©λ„ β¬‡ == λ³€κ²½μ— μν• μν–¥ β¬‡ <br/><br/><br/>
2. μƒμ†μ„ μ‚¬μ©ν•λ” "**μλ„**"
   - κµ¬μ²΄ ν΄λμ¤ μƒμ† β†’ `μ½”λ“ μ¬μ‚¬μ©`
     - _ν™•μ¥μ— λ‹«ν€μμ_
   - μ¶”μƒ ν΄λμ¤ μƒμ† β†’ `μƒμ†`
     - μκΈ° μμ‹ μ **μΈμ¤ν„΄μ¤ μƒμ„±** λ¶κ°€λ¥
     - μ¤μ§ <u>**μμ‹ ν΄λμ¤** μ¶”κ°€</u>λ¥Ό μ„ν•΄ μ΅΄μ¬<br/><br/>
   - μƒμ† **κ³„μΈµ ν™•μ¥** μ©μ΄ & **κ²°ν•©λ„** λ¶€μ‘μ© λ°©μ§€

<br/>

### μ¶”μƒ ν΄λμ¤ + μΈν„°νμ΄μ¤
> :: " `κ³¨κ²© κµ¬ν„ μ¶”μƒ ν΄λμ¤` ( _Skeletal Implementation Abstract Class_ ) "

- `μΈν„°νμ΄μ¤` β†’ **"λ‹¤μ¤‘ μƒμ†"** λ¬Έμ  ν•΄κ²°
- `μ¶”μƒ ν΄λμ¤` β†’ **"μ¤‘λ³µ μ½”λ“"** λ°©μ§€

```java
import domain.Money;
import domain.Screening;

public interface DiscountPolicy {
    Money calculateDiscountAmount(Screening screening);
}

/**
 * κ³¨κ²© κµ¬ν„ μ¶”μƒ ν΄λμ¤ `DefaultDiscountPolicy`
 */
public abstract class DefaultDiscountPolicy implements DiscountPolicy {
    private List<DiscountPolicy> conditions = new ArrayList<>();

    public DefaultDiscountPolicy(DiscountPolicy... conditions) {
        this.conditions = Arrays.asList(conditions);
    }

    @Override
    public Money calculateDiscountAmount(Screening screening) {
        for (DiscountPolicy policy : conditions) {
            if(policy.isSatisfiedBy(screening)) {
                return getDiscountAmount(screening) ;
            }
        }
        return screening.getMovieFee();
    }
    
    abstract protected Money getDiscountAmount(Screening screening);
}

/**
 * `calculateDiscountAmount`μ κµ¬ν„ μƒμ† & μΈμ¤ν„΄μ¤ λ³€μ μƒμ†
 * - μ¤‘λ³µ μ½”λ“ λ°©μ§€
 * - ν•λ‚μ μƒμ† κ³„μΈµμΌλ΅ λ¬¶μ„ μ μμ
 * 
 * κ°μ `getDiscountAmount` μ— λ€ν•΄ κµ¬ν„
 * - μ‹κ·Έλ‹μ² λ™μΌ :: μμ΅΄μ„± μ—­μ „ μ›μΉ™ μ μ© κ°€λ¥
 * - ν–‰λ™ νΈν™ κ°€λ¥ :: νƒ€μ… κ³„μΈµ κµ¬ν„
 */
public class AmountDiscountPolicy extends DefaultDiscountPolicy {
}
public class PercentDiscountPolicy extends DefaultDiscountPolicy {
}
```
<br/>

#### π’΅κ³¨κ²© κµ¬ν„ μ¶”μƒ ν΄λμ¤ vs μ¶”μƒ ν΄λμ¤ 
- [μ¥μ ] <u>**μƒμ† κ³„μΈµ**μ— μ–½λ§¤μ΄μ§€ μ•λ”</u> νƒ€μ… κ³„μΈµ & μ½”λ“ <u>μ¤‘λ³µ μ κ±°</u>
  - κ°„λ‹¨ν• μƒλ΅μ΄ κµ¬ν„ λ°©λ²• μ¶”κ°€
    - κ°„λ‹¨ν•κ² μƒλ΅μ΄ **μ¶”μƒ ν΄λμ¤** μ¶”κ°€ 
  - μ†μ‰¬μ΄ μΈν„°νμ΄μ¤ μ¶”κ°€/μ‚­μ 
    - κΈ°μ΅΄ λ¶€λ¨ ν΄λμ¤μ—μ„ **μƒλ΅μ΄ νƒ€μ…**μΌλ΅ μ‰½κ² **ν™•μ¥**


- [λ‹¨μ ] **λ³µμ΅λ„**κ°€ μ¬λΌκ°

<br/>

μμΉ« λ³µμ΅λ„κ°€ μ¬λΌκ°€ λ¶ν•„μ”ν•κ² <u>μ΄ν•΄μ©μ΄μ„±μ΄ λ–¨μ–΄μ§</u> μ μκΈ° λ•λ¬Έμ—<br/>
**λ³µμ΅μ„± μ ν•**κ°€ λ” μ¤‘μ”ν•λ‹¤λ©΄<br/>
νƒ€μ…μ„ μ •μν•κΈ° μ„ν•΄ μΈν„°νμ΄μ¤ / μ¶”μƒ ν΄λμ¤ **λ‘ μ¤‘ ν•λ‚λ§ μ‚¬μ©**ν•λ” κ²ƒμ΄ λ°”λμ§ν•λ‹¤.
- **λ‹¨μΌ** μƒμ† κ³„μΈµ **κ°€λ¥** : `ν΄λμ¤`/`μ¶”μƒ ν΄λμ¤`λ΅ νƒ€μ… μ •μ
- **λ‹¨μΌ** μƒμ† κ³„μΈµ **λ¶κ°€λ¥** : `μΈν„°νμ΄μ¤`λ΅ νƒ€μ… μ •μ

<br/>
<br/>

---
### λ• νƒ€μ΄ν•‘ - `λ™μ  νƒ€μ… μ–Έμ–΄`



<br/>
<br/>

---

---
### λ―Ήμ¤μΈ & νƒ€μ… κ³„μΈµ